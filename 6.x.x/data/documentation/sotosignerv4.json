{"seeAlsoSections":[{"title":"Related Documentation","identifiers":["doc:\/\/codes.soto.soto-core\/documentation\/SotoCore"]}],"schemaVersion":{"major":0,"minor":3,"patch":0},"sections":[],"primaryContentSections":[{"kind":"content","content":[{"anchor":"Overview","level":2,"type":"heading","text":"Overview"},{"anchor":"Initialisation","level":3,"type":"heading","text":"Initialisation"},{"type":"paragraph","inlineContent":[{"type":"text","text":"To create a "},{"type":"codeVoice","code":"AWSSigner"},{"type":"text","text":" you need a set of credentials, a signing name and a AWS region."}]},{"type":"codeListing","syntax":"swift","code":["let credentials: Credential = StaticCredential(","    accessKeyId: \"_MYACCESSKEY_\", ","    secretAccessKey: \"_MYSECRETACCESSKEY_\"",")","let signer = AWSSigner(credentials: credentials, name: \"s3\", region: \"eu-west-1\")"]},{"anchor":"Signed-URLs","level":3,"type":"heading","text":"Signed URLs"},{"type":"paragraph","inlineContent":[{"type":"text","text":"A signed URL includes the signature as query parameter "},{"type":"codeVoice","code":"X-Amz-Signature"},{"type":"text","text":". The method "},{"type":"codeVoice","code":"signURL"},{"type":"text","text":" will create a signed URL."}]},{"type":"codeListing","syntax":"swift","code":["let url = URL(string: \"https:\/\/my-bucket.s3.eu-west-1.awsamazon.com\/file\")!","let signedURL = signer.signURL(url: url, method: .GET, expires: .minutes(60))"]},{"anchor":"Signed-Headers","level":3,"type":"heading","text":"Signed Headers"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Instead of returning a signed URL you can add an additional "},{"type":"codeVoice","code":"authorization"},{"type":"text","text":" header which includes the signature. Use the method "},{"type":"codeVoice","code":"signHeaders"},{"type":"text","text":" to create a set of signed headers which you can use with the rest of your request."}]},{"type":"codeListing","syntax":"swift","code":["let signedHeaders = signer.signHeaders(url: url, method: .GET, headers: headers, body: .byteBuffer(body))"]},{"anchor":"Processing-requests","level":3,"type":"heading","text":"Processing requests"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Some request URLs need to be processed before signing. The signer expects query parameters to be alphabetically sorted and that paths have been percent encoded. You can use "},{"type":"codeVoice","code":"processURL"},{"type":"text","text":" to do this work for you."}]},{"type":"codeListing","syntax":"swift","code":["let url = URL(string: \"https:\/\/my-bucket.s3.eu-west-1.awsamazon.com\/file\")!","let processedURL = signer.processURL(url)!","let signedURL = signer.signURL(url: processedURL, method: .GET, expires: .minutes(60))"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"You can find out more about the AWS signing process "},{"type":"reference","isActive":true,"identifier":"https:\/\/docs.aws.amazon.com\/general\/latest\/gr\/sigv4_signing.html"},{"type":"text","text":"."}]}]}],"variants":[{"paths":["\/documentation\/sotosignerv4"],"traits":[{"interfaceLanguage":"swift"}]}],"identifier":{"url":"doc:\/\/codes.soto.soto-core\/documentation\/SotoSignerV4","interfaceLanguage":"swift"},"abstract":[{"type":"text","text":"Sign HTTP requests before sending them to AWS either by generating a signed URL or a set of signed headers."}],"kind":"symbol","metadata":{"roleHeading":"Framework","externalID":"SotoSignerV4","title":"SotoSignerV4","symbolKind":"module","role":"collection","modules":[{"name":"SotoSignerV4"}]},"hierarchy":{"paths":[[]]},"topicSections":[{"title":"Signer","identifiers":["doc:\/\/codes.soto.soto-core\/documentation\/SotoSignerV4\/AWSSigner"]},{"title":"Credentials","identifiers":["doc:\/\/codes.soto.soto-core\/documentation\/SotoCore\/Credential","doc:\/\/codes.soto.soto-core\/documentation\/SotoCore\/StaticCredential"]}],"references":{"doc://codes.soto.soto-core/documentation/SotoCore/Credential":{"role":"symbol","title":"Credential","fragments":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"Credential"}],"abstract":[{"type":"text","text":"Protocol for providing credential details for accessing AWS services"}],"identifier":"doc:\/\/codes.soto.soto-core\/documentation\/SotoCore\/Credential","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"Credential"}],"url":"\/documentation\/sotocore\/credential"},"doc://codes.soto.soto-core/documentation/SotoCore":{"role":"collection","title":"SotoCore","abstract":[{"type":"text","text":"The core framework for Soto, a Swift SDK for AWS"}],"identifier":"doc:\/\/codes.soto.soto-core\/documentation\/SotoCore","kind":"symbol","type":"topic","url":"\/documentation\/sotocore"},"doc://codes.soto.soto-core/documentation/SotoSignerV4":{"role":"collection","title":"SotoSignerV4","abstract":[{"type":"text","text":"Sign HTTP requests before sending them to AWS either by generating a signed URL or a set of signed headers."}],"identifier":"doc:\/\/codes.soto.soto-core\/documentation\/SotoSignerV4","kind":"symbol","type":"topic","url":"\/documentation\/sotosignerv4"},"https://docs.aws.amazon.com/general/latest/gr/sigv4_signing.html":{"title":"here","titleInlineContent":[{"type":"text","text":"here"}],"type":"link","identifier":"https:\/\/docs.aws.amazon.com\/general\/latest\/gr\/sigv4_signing.html","url":"https:\/\/docs.aws.amazon.com\/general\/latest\/gr\/sigv4_signing.html"},"doc://codes.soto.soto-core/documentation/SotoCore/StaticCredential":{"role":"symbol","title":"StaticCredential","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"StaticCredential"}],"abstract":[{"type":"text","text":"basic version of Credential where you supply the credentials"}],"identifier":"doc:\/\/codes.soto.soto-core\/documentation\/SotoCore\/StaticCredential","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"StaticCredential"}],"url":"\/documentation\/sotocore\/staticcredential"},"doc://codes.soto.soto-core/documentation/SotoSignerV4/AWSSigner":{"role":"symbol","title":"AWSSigner","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"AWSSigner"}],"abstract":[{"type":"text","text":"Amazon Web Services V4 Signer"}],"identifier":"doc:\/\/codes.soto.soto-core\/documentation\/SotoSignerV4\/AWSSigner","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"AWSSigner"}],"url":"\/documentation\/sotosignerv4\/awssigner"}}}